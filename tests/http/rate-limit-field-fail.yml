config: !file tests/http/config/rate-limit-field-fail.graphql
name: Rate Limit Field
mock:
  - request:
      url: http://example.com/bars
    response:
      body:
        - id: 1
          name: abc
        - id: 3
          name: cde
        - id: 5
          name: efg
        - id: 7
          name: ghi
assert:
  - request:
      method: POST
      url: http://localhost:8080/graphql
      body:
        query: query { bars { id name } }
    response:
      body:
        errors:
          - message: '"RATE_LIMIT_EXCEEDED"'
            locations:
              - column: 9
                line: 1
        data: null
